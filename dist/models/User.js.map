{"version":3,"sources":["models/User.js"],"names":["Object","defineProperty","exports","value","mongoose_1","require","UserSchema","Schema","name","type","String","required","email","unique","password","username","lowercase","createdAt","Date","default","now","ErrorHanlder","error","doc","next","code","console","log","Error","post","model"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,UAAU,GAAGC,OAAO,CAAC,UAAD,CAA1B;;AACA,IAAMC,UAAU,GAAG,IAAIF,UAAU,CAACG,MAAf,CAAsB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAF8B;AAGrCC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAH2B;AAIrCI,EAAAA,QAAQ,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCK,IAAAA,SAAS,EAAE;AAA3C,GAJ2B;AAKrCC,EAAAA,SAAS,EAAE;AAAER,IAAAA,IAAI,EAAES,IAAR;AAAcC,IAAAA,OAAO,EAAED,IAAI,CAACE,GAAL;AAAvB;AAL0B,CAAtB,CAAnB;;AAOA,IAAIC,YAAY,GAAG,SAAfA,YAAe,CAAUC,KAAV,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;AAC3C,MAAIF,KAAK,CAACV,KAAN,KAAgB,YAAhB,IAAgCU,KAAK,CAACG,IAAN,KAAe,KAAnD,EAA0D;AACtDC,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACAH,IAAAA,IAAI,CAAC,IAAII,KAAJ,CAAU,iCAAV,CAAD,CAAJ;AACH,GAHD,MAIK;AACDJ,IAAAA,IAAI,CAACF,KAAD,CAAJ;AACH;AACJ,CARD;;AASAhB,UAAU,CAACuB,IAAX,CAAgB,MAAhB,EAAwBR,YAAxB;AACAf,UAAU,CAACuB,IAAX,CAAgB,QAAhB,EAA0BR,YAA1B;AACAf,UAAU,CAACuB,IAAX,CAAgB,kBAAhB,EAAoCR,YAApC;AACAf,UAAU,CAACuB,IAAX,CAAgB,YAAhB,EAA8BR,YAA9B;AACAnB,OAAO,CAACiB,OAAR,GAAkBf,UAAU,CAAC0B,KAAX,CAAiB,MAAjB,EAAyBxB,UAAzB,CAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mongoose_1 = require(\"mongoose\");\nconst UserSchema = new mongoose_1.Schema({\n    name: { type: String, required: true },\n    email: { type: String, required: true, unique: true },\n    password: { type: String, required: true, },\n    username: { type: String, required: true, lowercase: true },\n    createdAt: { type: Date, default: Date.now() },\n});\nvar ErrorHanlder = function (error, doc, next) {\n    if (error.email === 'MongoError' && error.code === 11000) {\n        console.log('There was a duplicate key error');\n        next(new Error('There was a duplicate key error'));\n    }\n    else {\n        next(error);\n    }\n};\nUserSchema.post('save', ErrorHanlder);\nUserSchema.post('update', ErrorHanlder);\nUserSchema.post('findOneAndUpdate', ErrorHanlder);\nUserSchema.post('insertMany', ErrorHanlder);\nexports.default = mongoose_1.model('User', UserSchema);\n"],"file":"User.js"}